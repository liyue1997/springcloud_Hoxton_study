(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{nt0k:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("y8nQ");var l=n(a("Vl3Y"));a("14J3");var r=n(a("BMrR")),o=n(a("2Taf")),u=n(a("vZ4D")),i=n(a("l4Ni")),s=n(a("rlhR")),d=n(a("ujKo")),c=n(a("2Q78")),f=n(a("MhPg")),p=n(a("q1tI")),m=a("Hg0r"),g=a("6LiA"),y=a("uoem"),h=a("xhjy"),v=function(e){function t(){var e;return(0,o.default)(this,t),e=(0,i.default)(this,(0,d.default)(t).apply(this,arguments)),e.handleSearchValues=function(e){var t={};return t},e.renderYesno=function(t,a){return(0,h.renderYesNo)((0,s.default)(e),a.is_used)},e.getColumns=function(){return[{title:"\u7528\u6237\u7f16\u7801",dataIndex:"userId"},{title:"\u7528\u6237\u540d\u79f0",dataIndex:"userName",sorter:!0},{title:"\u7528\u6237\u90ae\u7bb1",dataIndex:"userEmail"},{title:"\u7528\u6237\u7c7b\u578b",dataIndex:"userType"},{title:"\u662f\u5426\u7981\u6b62",dataIndex:"userDisabled",render:e.renderYesno,filters:[{text:"\u662f",value:"1"},{text:"\u5426",value:"0"}]},{title:"\u6700\u540e\u767b\u5f55\u65e5\u671f",dataIndex:"userLastLoginDate"}]},e.getRows=function(){return p.default.createElement(r.default,null,e.getCol("\u7528\u6237\u7f16\u7801","userId",!1),e.getCol("\u7528\u6237\u540d\u79f0","userName",!1),e.getCol("\u7528\u6237\u90ae\u7bb1","userEmail",!1),e.getCol("\u7528\u6237\u7c7b\u578b","userType",!1),e.getColInput("\u662f\u5426\u7981\u6b62","userDisabled",(0,g.selectYesNo)(),!0),e.getCol("\u6700\u540e\u767b\u5f55\u65e5\u671f","userLastLoginDate",!0))},e}return(0,f.default)(t,e),(0,u.default)(t,[{key:"getRouteUrl",value:function(){return"/BizUser"}},{key:"getObjectName",value:function(){return"BizUser"}},{key:"getObjectDesc",value:function(){return"\u4e1a\u52a1\u4eba\u5458"}},{key:"getRowkey",value:function(){return"opr_code"}},{key:"componentDidMount",value:function(){(0,c.default)((0,d.default)(t.prototype),"componentDidMount",this).call(this)}},{key:"render",value:function(){return(0,c.default)((0,d.default)(t.prototype),"render",this).call(this)}}]),t}(y.CommonPage),b=(0,m.connect)(function(e){var t=e.moprs;return{moprs:t}})(l.default.create()(v));t.default=b},uoem:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.CommonPage=void 0,a("g9YV");var l=n(a("wCAj"));a("IzEo");var r=n(a("bx4M"));a("+L6B");var o=n(a("2/Rp"));a("14J3");var u=n(a("BMrR")),i=n(a("gWZ8"));a("5NDa");var s=n(a("5rEg"));a("y8nQ");var d=n(a("Vl3Y"));a("jCWc");var c=n(a("kPKH"));a("2qtc");var f=n(a("kLXV"));a("miYZ");var p=n(a("tsqr")),m=n(a("p0pE")),g=n(a("2Taf")),y=n(a("vZ4D")),h=n(a("l4Ni")),v=n(a("ujKo")),b=n(a("rlhR")),E=n(a("MhPg")),k=n(a("q1tI")),x=a("Hg0r"),C=a("6LiA"),D=a("eyaq"),j=function(e){function t(e){var a;return(0,g.default)(this,t),a=(0,h.default)(this,(0,v.default)(t).call(this,e)),a.state={autoQuery:!0,objUrl:a.getObjectName(),queryparams:{},queryMap:{},pages:{len:10,page:1,url:a.getObjectName()+"/query"+a.getObjectName()+"List"},dataSource:[],paginationProps:{total:0,pageSize:10,current:1,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1],"\u5171").concat(e,"\u6761")}},expand:!1,moduleCode:"",selectrows:[],treeData:[],rightClickNodeTreeItem:{pageX:"",pageY:"",id:"",categoryName:""},menukey:"",menulistdisplay:"none",editstate:"none",curObjt:{}},a.handleSearchValues=function(e){return{}},a.handleSearch=function(e){a.state.selectrows=[],e&&e.preventDefault();var t=a.props["form"];t.validateFieldsAndScroll(function(e,t){var n=a.handleSearchValues(t);a.setState({pages:(0,m.default)({},a.state.pages,{page:1}),queryMap:(0,m.default)({},t,n)},function(){a.queryPageData()})})},a.handleExport=function(e){e&&e.preventDefault();var t=(0,b.default)(a),n=a.props.dispatch;n({type:"mcommonobject/exportExcel",params:(0,m.default)({filename:a.getObjectDesc()+".xls",objUrl:t.state.objUrl},a.state.queryparams,a.state.queryMap)})},a.queryPageData=function(){var e=a.props.dispatch;e({type:"mcommonobject/queryData",params:(0,m.default)({},a.state.queryparams,a.state.queryMap,a.state.pages),callback:function(e){console.log("mcommonobject/queryData",e),e.data&&e.data.list?a.setState({dataSource:e.data.list,paginationProps:(0,m.default)({},a.state.paginationProps,{total:e.data.totalitem,pageSize:a.state.pages.len,current:a.state.pages.page})}):p.default.error("\u672a\u83b7\u53d6\u5230\u6570\u636e")}})},a.handleChange=function(e,t,n,l){a.setState({pages:(0,m.default)({},a.state.pages,{page:e.current,len:e.pageSize}),queryMap:(0,m.default)({},a.state.queryMap,{columnProp:n.field,columnOrder:n.order})},function(){a.queryPageData()})},a.handleDelete=function(e){var t=(0,b.default)(a);f.default.confirm({title:"\u786e\u5b9a\u5220\u9664\u5417?",okType:"danger",okText:"\u662f",cancelText:"\u5426",onOk:function(){t.props.dispatch({type:"mcommonobject/deleteobj",params:{objUrl:t.state.objUrl,id:e},callback:function(e){"202"===e["code"]?(p.default.success("\u5220\u9664\u6210\u529f"),t.queryPageData()):p.default.error(e["msg"]||"\u672a\u77e5\u9519\u8bef")}})},onCancel:function(){}})},a.toggle=function(){var e=a.state.expand;a.setState({expand:!e})},a.getColumns=function(){return[]},a.getSelection=function(){return null},a.getRows=function(){return k.default.createElement("div",null)},a.getCol=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=a.props.form,r=l.getFieldDecorator;return n?k.default.createElement(c.default,{span:8},k.default.createElement(d.default.Item,Object.assign({},C.formItemLayout,{label:e,style:{display:a.state.expand?"block":"none"}}),r(t,{initialValue:a.state.queryMap[t]})(k.default.createElement(s.default,{placeholder:"\u8bf7\u8f93\u5165"}))," ")):k.default.createElement(c.default,{span:8},k.default.createElement(d.default.Item,Object.assign({},C.formItemLayout,{label:e}),r(t,{initialValue:a.state.queryMap[t]})(k.default.createElement(s.default,{placeholder:"\u8bf7\u8f93\u5165"}))," "))},a.getColInput=function(e,t,n){var l=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=a.props.form,o=r.getFieldDecorator;return l?k.default.createElement(c.default,{span:8},k.default.createElement(d.default.Item,Object.assign({},C.formItemLayout,{label:e,style:{display:a.state.expand?"block":"none"}}),o(t,{initialValue:a.state.queryMap[t]})(n)," ")):k.default.createElement(c.default,{span:8},k.default.createElement(d.default.Item,Object.assign({},C.formItemLayout,{label:e}),o(t,{initialValue:a.state.queryMap[t]})(n)," "))},a.getbuttons=function(){return null},a.getChoosebtns=function(){return null},a.getMOprs=function(){return a.props.moprs["oper_"+a.state.moduleCode]||[]},a}return(0,E.default)(t,e),(0,y.default)(t,[{key:"getRouteUrl",value:function(){return""}},{key:"getObjectName",value:function(){return""}},{key:"getObjectDesc",value:function(){return""}},{key:"getRowkey",value:function(){return""}},{key:"componentDidMount",value:function(){var e=this,t=this.props.dispatch;t({type:"moprs/fetchData",payload:{modelcode:this.props.location.query.moduleCode}}),this.setState({moduleCode:this.props.location.query.moduleCode,queryparams:(0,m.default)({},this.props.location.query)},function(){e.state.autoQuery&&e.queryPageData()})}},{key:"render",value:function(){var e=this,t=this.getMOprs();if(t.indexOf("QUERY")<0)return k.default.createElement("div",null);var a=[{title:"\u64cd\u4f5c",key:"action",className:"actioncolumn",fixed:"left",render:function(a,n){return k.default.createElement(u.default,{type:"flex",justify:"space-around"},k.default.createElement(x.router.Link,{to:{pathname:"".concat(e.getRouteUrl(),"/info"),search:"id=".concat(n[e.getRowkey()],"&edit=update&moduleCode=").concat(e.state.moduleCode)}},k.default.createElement(o.default,{type:"primary",icon:"edit",ghost:!0,size:"small",style:{display:t.indexOf("UPDATE")>=0?"inline":"none"}},"\u7f16\u8f91")),k.default.createElement(o.default,{type:"danger",icon:"delete",ghost:!0,size:"small",style:{display:t.indexOf("DELETE")>=0?"inline":"none"},onClick:function(){return e.handleDelete(n[e.getRowkey()])}},"\u5220\u9664"))}}].concat((0,i.default)(this.getColumns()));return t.indexOf("DELETE")<0&&t.indexOf("UPDATE")<0&&a.splice(0,1),k.default.createElement("div",null,k.default.createElement(r.default,{className:"cardSearch"},k.default.createElement(d.default,{onSubmit:this.handleSearch},this.getRows(),k.default.createElement(u.default,null,k.default.createElement(o.default,{className:"querybtn",icon:"search",type:"primary",htmlType:"submit",style:{display:t.indexOf("QUERY")>=0?"inline":"none"}},"\u67e5\u8be2"),k.default.createElement(x.router.Link,{to:{pathname:"".concat(this.getRouteUrl(),"/info"),search:"edit=add&moduleCode=".concat(this.state.moduleCode)}},k.default.createElement(o.default,{className:"newbtn",icon:"plus",style:{marginLeft:8,display:t.indexOf("NEW")>=0?"inline":"none"},type:"primary"},"\u65b0\u5efa")),k.default.createElement(o.default,{className:"exportbtn",icon:"export",style:{marginLeft:8,display:t.indexOf("EXPORT")>=0?"inline":"none"},type:"primary",onClick:this.handleExport},"\u5bfc\u51fa"),k.default.createElement(o.default,{className:"importbtn",icon:"import",style:{marginLeft:8,display:t.indexOf("IMPORT")>=0?"inline":"none"},type:"primary",onClick:this.handleExport},"\u5bfc\u5165"),this.getbuttons(),k.default.createElement(o.default,{className:"updownbtn",icon:this.state.expand?"up":"down",style:{marginLeft:8,display:(0,D.getLength)(this.getRows())>3?"inline":"none"},type:"primary",onClick:this.toggle}," ",this.state.expand?"\u6536\u8d77":"\u5c55\u5f00")))),k.default.createElement(r.default,null,this.getChoosebtns(),k.default.createElement(l.default,{bordered:!0,rowSelection:this.getSelection(),columns:a,dataSource:this.state.dataSource,scroll:{x:!0},rowKey:this.getRowkey(),pagination:this.state.paginationProps,onChange:this.handleChange}),";"))}}]),t}(k.default.Component);t.CommonPage=j}}]);